"use strict";var resvg=(()=>{var I=Object.defineProperty;var M=Object.getOwnPropertyDescriptor;var U=Object.getOwnPropertyNames;var T=Object.prototype.hasOwnProperty;var C=(e,t)=>{for(var n in t)I(e,n,{get:t[n],enumerable:!0})},F=(e,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let _ of U(t))!T.call(e,_)&&_!==n&&I(e,_,{get:()=>t[_],enumerable:!(o=M(t,_))||o.enumerable});return e};var L=e=>F(I({},"__esModule",{value:!0}),e);var K={};C(K,{Resvg:()=>$,initWasm:()=>V});var r,w=new Array(128).fill(void 0);w.push(void 0,null,!0,!1);var v=w.length;function a(e){v===w.length&&w.push(w.length+1);let t=v;return v=w[t],w[t]=e,t}function i(e){return w[e]}function z(e){e<132||(w[e]=v,v=e)}function u(e){let t=i(e);return z(e),t}var p=0,h=null;function O(){return(h===null||h.byteLength===0)&&(h=new Uint8Array(r.memory.buffer)),h}var k=new TextEncoder("utf-8"),P=typeof k.encodeInto=="function"?function(e,t){return k.encodeInto(e,t)}:function(e,t){let n=k.encode(e);return t.set(n),{read:e.length,written:n.length}};function W(e,t,n){if(n===void 0){let b=k.encode(e),g=t(b.length);return O().subarray(g,g+b.length).set(b),p=b.length,g}let o=e.length,_=t(o),f=O(),c=0;for(;c<o;c++){let b=e.charCodeAt(c);if(b>127)break;f[_+c]=b}if(c!==o){c!==0&&(e=e.slice(c)),_=n(_,o,o=c+e.length*3);let b=O().subarray(_+c,_+o),g=P(e,b);c+=g.written}return p=c,_}function B(e){return e==null}var y=null;function s(){return(y===null||y.byteLength===0)&&(y=new Int32Array(r.memory.buffer)),y}var j=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});j.decode();function m(e,t){return j.decode(O().subarray(e,e+t))}function N(e,t){if(!(e instanceof t))throw new Error(`expected instance of ${t.name}`);return e.ptr}function q(e,t){try{return e.apply(this,t)}catch(n){r.__wbindgen_exn_store(a(n))}}var d=class{static __wrap(t){let n=Object.create(d.prototype);return n.ptr=t,n}__destroy_into_raw(){let t=this.ptr;return this.ptr=0,t}free(){let t=this.__destroy_into_raw();r.__wbg_bbox_free(t)}get x(){return r.__wbg_get_bbox_x(this.ptr)}set x(t){r.__wbg_set_bbox_x(this.ptr,t)}get y(){return r.__wbg_get_bbox_y(this.ptr)}set y(t){r.__wbg_set_bbox_y(this.ptr,t)}get width(){return r.__wbg_get_bbox_width(this.ptr)}set width(t){r.__wbg_set_bbox_width(this.ptr,t)}get height(){return r.__wbg_get_bbox_height(this.ptr)}set height(t){r.__wbg_set_bbox_height(this.ptr,t)}},x=class{static __wrap(t){let n=Object.create(x.prototype);return n.ptr=t,n}__destroy_into_raw(){let t=this.ptr;return this.ptr=0,t}free(){let t=this.__destroy_into_raw();r.__wbg_renderedimage_free(t)}get width(){return r.renderedimage_width(this.ptr)>>>0}get height(){return r.renderedimage_height(this.ptr)>>>0}asPng(){try{let _=r.__wbindgen_add_to_stack_pointer(-16);r.renderedimage_asPng(_,this.ptr);var t=s()[_/4+0],n=s()[_/4+1],o=s()[_/4+2];if(o)throw u(n);return u(t)}finally{r.__wbindgen_add_to_stack_pointer(16)}}get pixels(){let t=r.renderedimage_pixels(this.ptr);return u(t)}},l=class{static __wrap(t){let n=Object.create(l.prototype);return n.ptr=t,n}__destroy_into_raw(){let t=this.ptr;return this.ptr=0,t}free(){let t=this.__destroy_into_raw();r.__wbg_resvg_free(t)}constructor(t,n,o){try{let A=r.__wbindgen_add_to_stack_pointer(-16);var _=B(n)?0:W(n,r.__wbindgen_malloc,r.__wbindgen_realloc),f=p;r.resvg_new(A,a(t),_,f,B(o)?0:a(o));var c=s()[A/4+0],b=s()[A/4+1],g=s()[A/4+2];if(g)throw u(b);return l.__wrap(c)}finally{r.__wbindgen_add_to_stack_pointer(16)}}get width(){return r.resvg_width(this.ptr)}get height(){return r.resvg_height(this.ptr)}render(){try{let _=r.__wbindgen_add_to_stack_pointer(-16);r.resvg_render(_,this.ptr);var t=s()[_/4+0],n=s()[_/4+1],o=s()[_/4+2];if(o)throw u(n);return x.__wrap(t)}finally{r.__wbindgen_add_to_stack_pointer(16)}}toString(){try{let o=r.__wbindgen_add_to_stack_pointer(-16);r.resvg_toString(o,this.ptr);var t=s()[o/4+0],n=s()[o/4+1];return m(t,n)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(t,n)}}innerBBox(){let t=r.resvg_innerBBox(this.ptr);return t===0?void 0:d.__wrap(t)}getBBox(){let t=r.resvg_getBBox(this.ptr);return t===0?void 0:d.__wrap(t)}cropByBBox(t){N(t,d),r.resvg_cropByBBox(this.ptr,t.ptr)}imagesToResolve(){try{let _=r.__wbindgen_add_to_stack_pointer(-16);r.resvg_imagesToResolve(_,this.ptr);var t=s()[_/4+0],n=s()[_/4+1],o=s()[_/4+2];if(o)throw u(n);return u(t)}finally{r.__wbindgen_add_to_stack_pointer(16)}}resolveImage(t,n){try{let f=r.__wbindgen_add_to_stack_pointer(-16),c=W(t,r.__wbindgen_malloc,r.__wbindgen_realloc),b=p;r.resvg_resolveImage(f,this.ptr,c,b,a(n));var o=s()[f/4+0],_=s()[f/4+1];if(_)throw u(o)}finally{r.__wbindgen_add_to_stack_pointer(16)}}};async function D(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(o){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",o);else throw o}let n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}else{let n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function J(){let e={};return e.wbg={},e.wbg.__wbg_new_15d3966e9981a196=function(t,n){let o=new Error(m(t,n));return a(o)},e.wbg.__wbindgen_memory=function(){let t=r.memory;return a(t)},e.wbg.__wbg_buffer_cf65c07de34b9a08=function(t){let n=i(t).buffer;return a(n)},e.wbg.__wbg_newwithbyteoffsetandlength_9fb2f11355ecadf5=function(t,n,o){let _=new Uint8Array(i(t),n>>>0,o>>>0);return a(_)},e.wbg.__wbindgen_object_drop_ref=function(t){u(t)},e.wbg.__wbg_new_537b7341ce90bb31=function(t){let n=new Uint8Array(i(t));return a(n)},e.wbg.__wbg_values_97683218f24ed826=function(t){let n=i(t).values();return a(n)},e.wbg.__wbg_next_88560ec06a094dea=function(){return q(function(t){let n=i(t).next();return a(n)},arguments)},e.wbg.__wbg_done_1ebec03bbd919843=function(t){return i(t).done},e.wbg.__wbg_value_6ac8da5cc5b3efda=function(t){let n=i(t).value;return a(n)},e.wbg.__wbg_instanceof_Uint8Array_01cebe79ca606cca=function(t){let n;try{n=i(t)instanceof Uint8Array}catch(_){n=!1}return n},e.wbg.__wbindgen_string_get=function(t,n){let o=i(n),_=typeof o=="string"?o:void 0;var f=B(_)?0:W(_,r.__wbindgen_malloc,r.__wbindgen_realloc),c=p;s()[t/4+1]=c,s()[t/4+0]=f},e.wbg.__wbg_new_b525de17f44a8943=function(){let t=new Array;return a(t)},e.wbg.__wbindgen_string_new=function(t,n){let o=m(t,n);return a(o)},e.wbg.__wbg_push_49c286f04dd3bf59=function(t,n){return i(t).push(i(n))},e.wbg.__wbg_new_abda76e883ba8a5f=function(){let t=new Error;return a(t)},e.wbg.__wbg_stack_658279fe44541cf6=function(t,n){let o=i(n).stack,_=W(o,r.__wbindgen_malloc,r.__wbindgen_realloc),f=p;s()[t/4+1]=f,s()[t/4+0]=_},e.wbg.__wbg_error_f851667af71bcfc6=function(t,n){try{console.error(m(t,n))}finally{r.__wbindgen_free(t,n)}},e.wbg.__wbg_length_27a2afe8ab42b09f=function(t){return i(t).length},e.wbg.__wbg_set_17499e8aa4003ebd=function(t,n,o){i(t).set(i(n),o>>>0)},e.wbg.__wbindgen_throw=function(t,n){throw new Error(m(t,n))},e.wbg.__wbg_debug_8db2eed1bf6c1e2a=function(t){console.debug(i(t))},e.wbg.__wbg_error_fe807da27c4a4ced=function(t){console.error(i(t))},e.wbg.__wbg_info_9e6db45ac337c3b5=function(t){console.info(i(t))},e.wbg.__wbg_log_7bb108d119bafbc1=function(t){console.log(i(t))},e.wbg.__wbg_warn_e57696dbb3977030=function(t){console.warn(i(t))},e}function H(e,t){return r=e.exports,E.__wbindgen_wasm_module=t,y=null,h=null,r}async function E(e){typeof e=="undefined"&&(e=new URL("index_bg.wasm",void 0));let t=J();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));let{instance:n,module:o}=await D(await e,t);return H(n,o)}var R=E;var S=!1,V=async e=>{if(S)throw new Error("Already initialized. The `initWasm()` function can be used only once.");await R(await e),S=!0},$=class extends l{constructor(e,t){if(!S)throw new Error("Wasm has not been initialized. Call `initWasm()` function.");let n=t==null?void 0:t.font;if(n&&G(n)){let o={...t,font:{...n,fontsBuffers:void 0}};super(e,JSON.stringify(o),n.fontsBuffers)}else super(e,JSON.stringify(t))}};function G(e){return e.hasOwnProperty("fontsBuffers")}return L(K);})();
