"use strict";var resvg=(()=>{var I=Object.defineProperty;var M=Object.getOwnPropertyDescriptor;var U=Object.getOwnPropertyNames;var T=Object.prototype.hasOwnProperty;var C=(e,t)=>{for(var n in t)I(e,n,{get:t[n],enumerable:!0})},F=(e,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of U(t))!T.call(e,o)&&o!==n&&I(e,o,{get:()=>t[o],enumerable:!(i=M(t,o))||i.enumerable});return e};var L=e=>F(I({},"__esModule",{value:!0}),e);var K={};C(K,{Resvg:()=>$,initWasm:()=>V});var r,b=new Array(128).fill(void 0);b.push(void 0,null,!0,!1);var y=b.length;function c(e){y===b.length&&b.push(b.length+1);let t=y;return y=b[t],b[t]=e,t}function a(e){return b[e]}function z(e){e<132||(b[e]=y,y=e)}function g(e){let t=a(e);return z(e),t}var m=0,l=null;function A(){return(l===null||l.byteLength===0)&&(l=new Uint8Array(r.memory.buffer)),l}var O=new TextEncoder("utf-8"),P=typeof O.encodeInto=="function"?function(e,t){return O.encodeInto(e,t)}:function(e,t){let n=O.encode(e);return t.set(n),{read:e.length,written:n.length}};function k(e,t,n){if(n===void 0){let f=O.encode(e),w=t(f.length);return A().subarray(w,w+f.length).set(f),m=f.length,w}let i=e.length,o=t(i),u=A(),_=0;for(;_<i;_++){let f=e.charCodeAt(_);if(f>127)break;u[o+_]=f}if(_!==i){_!==0&&(e=e.slice(_)),o=n(o,i,i=_+e.length*3);let f=A().subarray(o+_,o+i),w=P(e,f);_+=w.written}return m=_,o}function B(e){return e==null}var h=null;function s(){return(h===null||h.byteLength===0)&&(h=new Int32Array(r.memory.buffer)),h}var j=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});j.decode();function W(e,t){return j.decode(A().subarray(e,e+t))}function N(e,t){if(!(e instanceof t))throw new Error(`expected instance of ${t.name}`);return e.ptr}function q(e,t){try{return e.apply(this,t)}catch(n){r.__wbindgen_exn_store(c(n))}}var d=class{static __wrap(t){let n=Object.create(d.prototype);return n.ptr=t,n}__destroy_into_raw(){let t=this.ptr;return this.ptr=0,t}free(){let t=this.__destroy_into_raw();r.__wbg_bbox_free(t)}get x(){return r.__wbg_get_bbox_x(this.ptr)}set x(t){r.__wbg_set_bbox_x(this.ptr,t)}get y(){return r.__wbg_get_bbox_y(this.ptr)}set y(t){r.__wbg_set_bbox_y(this.ptr,t)}get width(){return r.__wbg_get_bbox_width(this.ptr)}set width(t){r.__wbg_set_bbox_width(this.ptr,t)}get height(){return r.__wbg_get_bbox_height(this.ptr)}set height(t){r.__wbg_set_bbox_height(this.ptr,t)}},v=class{static __wrap(t){let n=Object.create(v.prototype);return n.ptr=t,n}__destroy_into_raw(){let t=this.ptr;return this.ptr=0,t}free(){let t=this.__destroy_into_raw();r.__wbg_renderedimage_free(t)}get width(){return r.renderedimage_width(this.ptr)>>>0}get height(){return r.renderedimage_height(this.ptr)>>>0}asPng(){try{let o=r.__wbindgen_add_to_stack_pointer(-16);r.renderedimage_asPng(o,this.ptr);var t=s()[o/4+0],n=s()[o/4+1],i=s()[o/4+2];if(i)throw g(n);return g(t)}finally{r.__wbindgen_add_to_stack_pointer(16)}}get pixels(){let t=r.renderedimage_pixels(this.ptr);return g(t)}},p=class{static __wrap(t){let n=Object.create(p.prototype);return n.ptr=t,n}__destroy_into_raw(){let t=this.ptr;return this.ptr=0,t}free(){let t=this.__destroy_into_raw();r.__wbg_resvg_free(t)}constructor(t,n,i){try{let x=r.__wbindgen_add_to_stack_pointer(-16);var o=B(n)?0:k(n,r.__wbindgen_malloc,r.__wbindgen_realloc),u=m;r.resvg_new(x,c(t),o,u,B(i)?0:c(i));var _=s()[x/4+0],f=s()[x/4+1],w=s()[x/4+2];if(w)throw g(f);return p.__wrap(_)}finally{r.__wbindgen_add_to_stack_pointer(16)}}get width(){return r.resvg_width(this.ptr)}get height(){return r.resvg_height(this.ptr)}render(){try{let o=r.__wbindgen_add_to_stack_pointer(-16);r.resvg_render(o,this.ptr);var t=s()[o/4+0],n=s()[o/4+1],i=s()[o/4+2];if(i)throw g(n);return v.__wrap(t)}finally{r.__wbindgen_add_to_stack_pointer(16)}}toString(){try{let i=r.__wbindgen_add_to_stack_pointer(-16);r.resvg_toString(i,this.ptr);var t=s()[i/4+0],n=s()[i/4+1];return W(t,n)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(t,n)}}innerBBox(){let t=r.resvg_innerBBox(this.ptr);return t===0?void 0:d.__wrap(t)}getBBox(){let t=r.resvg_getBBox(this.ptr);return t===0?void 0:d.__wrap(t)}cropByBBox(t){N(t,d),r.resvg_cropByBBox(this.ptr,t.ptr)}imagesToResolve(){try{let o=r.__wbindgen_add_to_stack_pointer(-16);r.resvg_imagesToResolve(o,this.ptr);var t=s()[o/4+0],n=s()[o/4+1],i=s()[o/4+2];if(i)throw g(n);return g(t)}finally{r.__wbindgen_add_to_stack_pointer(16)}}resolveImage(t,n){try{let u=r.__wbindgen_add_to_stack_pointer(-16),_=k(t,r.__wbindgen_malloc,r.__wbindgen_realloc),f=m;r.resvg_resolveImage(u,this.ptr,_,f,c(n));var i=s()[u/4+0],o=s()[u/4+1];if(o)throw g(i)}finally{r.__wbindgen_add_to_stack_pointer(16)}}};async function D(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(i){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",i);else throw i}let n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}else{let n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function J(){let e={};return e.wbg={},e.wbg.__wbg_new_15d3966e9981a196=function(t,n){let i=new Error(W(t,n));return c(i)},e.wbg.__wbindgen_memory=function(){let t=r.memory;return c(t)},e.wbg.__wbg_buffer_cf65c07de34b9a08=function(t){let n=a(t).buffer;return c(n)},e.wbg.__wbg_newwithbyteoffsetandlength_9fb2f11355ecadf5=function(t,n,i){let o=new Uint8Array(a(t),n>>>0,i>>>0);return c(o)},e.wbg.__wbindgen_object_drop_ref=function(t){g(t)},e.wbg.__wbg_new_537b7341ce90bb31=function(t){let n=new Uint8Array(a(t));return c(n)},e.wbg.__wbg_values_97683218f24ed826=function(t){let n=a(t).values();return c(n)},e.wbg.__wbg_next_88560ec06a094dea=function(){return q(function(t){let n=a(t).next();return c(n)},arguments)},e.wbg.__wbg_done_1ebec03bbd919843=function(t){return a(t).done},e.wbg.__wbg_value_6ac8da5cc5b3efda=function(t){let n=a(t).value;return c(n)},e.wbg.__wbg_instanceof_Uint8Array_01cebe79ca606cca=function(t){let n;try{n=a(t)instanceof Uint8Array}catch(o){n=!1}return n},e.wbg.__wbindgen_string_get=function(t,n){let i=a(n),o=typeof i=="string"?i:void 0;var u=B(o)?0:k(o,r.__wbindgen_malloc,r.__wbindgen_realloc),_=m;s()[t/4+1]=_,s()[t/4+0]=u},e.wbg.__wbg_new_b525de17f44a8943=function(){let t=new Array;return c(t)},e.wbg.__wbindgen_string_new=function(t,n){let i=W(t,n);return c(i)},e.wbg.__wbg_push_49c286f04dd3bf59=function(t,n){return a(t).push(a(n))},e.wbg.__wbg_length_27a2afe8ab42b09f=function(t){return a(t).length},e.wbg.__wbg_set_17499e8aa4003ebd=function(t,n,i){a(t).set(a(n),i>>>0)},e.wbg.__wbindgen_throw=function(t,n){throw new Error(W(t,n))},e}function H(e,t){return r=e.exports,R.__wbindgen_wasm_module=t,h=null,l=null,r}async function R(e){typeof e=="undefined"&&(e=new URL("index_bg.wasm",void 0));let t=J();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));let{instance:n,module:i}=await D(await e,t);return H(n,i)}var E=R;var S=!1,V=async e=>{if(S)throw new Error("Already initialized. The `initWasm()` function can be used only once.");await E(await e),S=!0},$=class extends p{constructor(e,t){if(!S)throw new Error("Wasm has not been initialized. Call `initWasm()` function.");let n=t==null?void 0:t.font;if(n&&G(n)){let i={...t,font:{...n,fontsBuffers:void 0}};super(e,JSON.stringify(i),n.fontsBuffers)}else super(e,JSON.stringify(t))}};function G(e){return e.hasOwnProperty("fontsBuffers")}return L(K);})();
